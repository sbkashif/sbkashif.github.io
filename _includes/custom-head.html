<style>
.copy-code-btn {
  background: #eee;
  border: none;
  border-radius: 4px;
  padding: 2px 8px;
  font-size: 0.9em;
  cursor: pointer;
  color: #333;
  transition: background 0.2s;
}
.copy-code-btn:hover {
  background: #ddd;
}
pre {
  position: relative;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('pre > code').forEach(function(codeBlock) {
    var button = document.createElement('button');
    button.className = 'copy-code-btn';
    button.type = 'button';
    button.innerText = 'Copy';

    button.addEventListener('click', function() {
      var text = codeBlock.innerText;
      navigator.clipboard.writeText(text).then(function() {
        button.innerText = 'Copied!';
        setTimeout(function() { button.innerText = 'Copy'; }, 1500);
      });
    });

    var pre = codeBlock.parentNode;
    pre.style.position = 'relative';
    pre.appendChild(button);
    button.style.position = 'absolute';
    button.style.top = '8px';
    button.style.right = '8px';
    button.style.zIndex = '10';
  });
});
</script>
{% comment %}
  Placeholder to allow defining custom head, in principle, you can add anything here, e.g. favicons:

  1. Head over to https://realfavicongenerator.net/ to add your own favicons.
  2. Customize default _includes/custom-head.html in your source directory and insert the given code snippet.
{% endcomment %}

<!-- MathJax Configuration -->
{% if page.usemathjax %}
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\\[','\\]']],
      processEscapes: true
    },
    CommonHTML: { matchFontHeight: false },
    displayAlign: "left",
    displayIndent: "2em"
  });
</script>
{% endif %}
